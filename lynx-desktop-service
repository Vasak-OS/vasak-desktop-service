from Lynx.Screen import LynxScreen
from Lynx.DBus import client, Service
from gi.repository import GLib
from gi.repository import Gio
from dbus.mainloop.glib import DBusGMainLoop
import socket
import threading
import sys
import os

if __name__ == "__main__":
    DBusGMainLoop(set_as_default=True)
    loop = GLib.MainLoop()

    dockDBus = client('ar.net.lynx.os.dock')
    lScreen = LynxScreen(dockDBus)    
    Service(lScreen)

    loop.run()
